<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
#ConfigSection
데이터베이스에 질의할 구문을 작성하는곳
 -->

<mapper namespace="worksets">
	<select id="worksetList" resultType="map">
		select ty = 1, a.frm_cd, wset_cd = a.wset_cd, b.name, b.sql, a.wset_ty, a.grid_nm, a.link_grid, a.open_sq, 
				a.save_sq, a.insert_yn, a.update_yn, a.delete_yn, a.use_yn, a.dsc,
				a.cdt, a.mdt 
		from 	scf150 a
			left join scw100 b
							on	b.wset_cd = a.wset_cd
		where	a.frm_cd = #{frm_cd}

	union

		select ty = 2, frm_cd = null, wset_cd = 'All', name = 'All controls','', wset_ty =  null, grid_nm = null, link_grid = null, open_sq = null, 
				save_sq = null, insert_yn = null, update_yn = null, delete_yn = null, use_yn = null, dsc = null, 
				cdt = null, mdt = null

		order by ty, wset_cd
	</select>	
	<select id="workset" resultType="map">
		select *
		from 	scw100 
		where	wset_cd = #{wset_cd}		
	</select>	
</mapper>


<!-- 
USERNO INT GENERATED BY DEFAULT AS IDENTITY 
          (START WITH 1, INCREMENT BY 1) NOT NULL,
    USERID VARCHAR(45) NOT NULL,
	USERNAME VARCHAR(45) NOT NULL,
	PASSWORD VARCHAR(45) NOT NULL,
 -->